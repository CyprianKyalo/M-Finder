<!-- <div id="map" style="width: 100%; height: 400px"></div>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

<script>
$(document).ready(function(){
  function initMap() {
    var latlng = { lat: 37.09024, lng: -95.712891 }; // THIS IS CENTER OF THE MAP
    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 6,
      center: latlng,
      scrollwheel: false,
      disableDoubleClickZoom: true,
    });

    google.maps.event.addListenerOnce(map, 'tilesloaded', addMarkers);

    function addMarkers() {

    locations = {
      latitude: " -1.2841",
      longitude: " 36.8155"
    }

    var point = { lat: locations.latitude, lng: locations.longitude };
    var marker = new google.maps.Marker({
      position: point, 
      map: map,
      title: '!',
      url: '', 
    });

    marker['infowindow'] = new google.maps.InfoWindow({
      content: '<div id="content" style="text-align: center">point</div>' 
    }); // info of the point

    google.maps.event.addListener(marker, 'click', function() {
      //window.location.href = this.url;
      this['infowindow'].open(map, this);
    });
    google.maps.event.addListener(marker, 'mouseover', function() {
      //this['infowindow'].open(map, this);
    });
    google.maps.event.addListener(marker, 'mouseout', function() {
      //this['infowindow'].close(map, this);
    });
  }
}
});
</script>

<script src="https://maps.googleapis.com/maps/api/js?v=3&key=YOUR_CODE&callback=initMap" async defer></script>

{% extends 'base.html' %}

{% block content %}
 -->
 <script src="https://maps.googleapis.com/maps/api/js?key={{ key }}"></script>


 <div id="map" style="width: 100%; height: 100%;"></div>

<script>
  lat = {{ lat }}
  lng = {{ lng }}
  console.log(lat, lng)
  function initMap(lat, lng) {
    // Create a new map
    var map = new google.maps.Map(document.getElementById('map'), {
      center: {lat: lat, lng: lng},
      zoom: 15
    });

    // Add a marker for the point with the given latitude and longitude
    var marker = new google.maps.Marker({
      position: {lat: lat, lng: lng},
      map: map
    });

    var circle = new google.maps.Circle({
        strokeColor: '#FF0000',
        strokeOpacity: 0.8,
        strokeWeight: 2,
        fillColor: '#FF0000',
        fillOpacity: 0.35,
        map: map,
        center: {lat: lat, lng: lng},
        radius: 1200
      });
  }


// <script>
  initMap(lat, lng);
</script>

<!-- </script> -->
<!-- {% endblock %} -->